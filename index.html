
<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<title>InTouch Collective ‚Äî Journey</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta name="description" content="Kameralne spotkania offline w Warszawie. Zacznij od oddechu, refleksji i buduj autentyczne relacje.">
<link href="https://fonts.googleapis.com/css2?family=Recursive:opsz,wght@500;700&family=Plus+Jakarta+Sans:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --earth:#7f664f;
    --green:#5b7a59;
    --sky:#3f86c9;
    --accent:#c25e32;
    --bg-light:#f2ece3;
    --text:#1f242c;
    --radius:20px;
    --shadow:0 40px 140px -10px rgba(31,36,44,.18);
    --transition:.38s cubic-bezier(.23,.13,.35,1);
    --font-head:'Recursive', system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
    --font-body:'Plus Jakarta Sans', system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  }
  *{box-sizing:border-box;}
  body{
    margin:0;
    background: linear-gradient(135deg,#e6f7ff 0%,#f2ece3 90%);
    font-family: var(--font-body);
    color: var(--text);
    -webkit-font-smoothing:antialiased;
    overflow-x:hidden;
    min-height:100vh;
  }
  h1{margin:0;font-family:var(--font-head);font-size:2.4rem;line-height:1.05;}
  h2{margin:0 0 6px;font-family:var(--font-head);font-size:1.5rem;line-height:1.1;}
  p{margin:8px 0 16px;font-size:1rem;}
  small{font-size:.65em;color:rgba(31,36,44,.6);}
  button{cursor:pointer;}
  .screen{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:0;margin:0;}
  .pager{position:fixed;left:0;right:0;bottom:8px;display:flex;justify-content:center;gap:22px;z-index:50;pointer-events:none;}
  .node{position:relative;width:18px;height:18px;border-radius:50%;background:rgba(255,255,255,.85);border:2px solid rgba(31,36,44,.15);display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;pointer-events:auto;transition:all .3s;}
  .node.active{background:var(--accent);border-color:var(--accent);box-shadow:0 0 16px rgba(194,94,50,.6);color:#fff;}
  .path-svg{position:fixed;left:10%;right:10%;bottom:42px;height:60px;pointer-events:none;z-index:10;}
  .frame{width:100%;max-width:960px;margin:0 auto;display:flex;flex-direction:column;gap:48px;padding:0 14px;}
  .card{background:rgba(255,253,248,.95);border-radius:24px;padding:28px 26px;box-shadow:var(--shadow);position:relative;display:flex;flex-wrap:wrap;gap:24px;overflow:hidden;}
  .centered{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;}
  .badge{display:inline-block;background:var(--accent);color:#fff;padding:6px 14px;border-radius:999px;font-size:.65em;font-weight:600;margin-bottom:6px;letter-spacing:0.5px;}
  .underline{position:relative;display:inline-block;margin-bottom:6px;}
  .underline:after{content:'';position:absolute;left:0;bottom:0;height:8px;width:100%;background:rgba(194,94,50,.22);border-radius:4px;}
  .input{padding:14px 16px;border-radius:999px;border:2px solid rgba(31,36,44,.1);font-size:1rem;flex:1;min-width:140px;outline:none;transition:box-shadow .25s;}
  .btn{padding:14px 22px;border:none;border-radius:999px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;gap:10px;transition:all var(--transition);position:relative;font-family:var(--font-body);}
  .btn-primary{background: linear-gradient(135deg,var(--accent),var(--sky));color:#fff;box-shadow:0 18px 80px -10px rgba(194,94,50,.45);}
  .btn-secondary{background:#fff;border:2px solid var(--accent);color:var(--accent);}
  .section-wrapper{position:relative;display:flex;flex-direction:column;gap:36px;margin-top:12px;}
  .breath-panel{position:relative;display:flex;flex-wrap:wrap;gap:24px;background:#fffefb;border-radius:24px;padding:32px;box-shadow:0 60px 160px -30px rgba(31,36,44,.18);}
  .breath-visual{flex:1;min-width:220px;display:flex;flex-direction:column;gap:14px;align-items:center;justify-content:center;position:relative;}
  .circle{width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;background:rgba(194,94,50,.08);transition:transform .3s;}
  .circle-inner{width:100%;height:100%;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1rem;font-weight:700;color:#fff;mix-blend-mode:normal;position:relative;z-index:2;transition:transform .4s;}
  .progress{margin-top:6px;display:flex;gap:6px;justify-content:center;}
  .dot{width:14px;height:14px;border-radius:50%;background:#e0d8ce;position:relative;box-shadow:inset 0 2px 6px rgba(31,36,44,.1);}
  .dot.active{background:var(--accent);box-shadow:0 0 16px rgba(194,94,50,.7);}
  .breath-info{flex:1;min-width:260px;display:flex;flex-direction:column;gap:14px;justify-content:center;}
  .verbal{font-size:1.2rem;font-weight:600;}
  .reflection{display:flex;gap:20px;flex-wrap:wrap;}
  .reflection-options{display:flex;gap:14px;flex-wrap:wrap;margin-top:6px;}
  .reflection-btn{padding:12px 16px;border-radius:14px;border:2px solid rgba(31,36,44,.15);background:#fff;cursor:pointer;transition:all .3s;font-weight:600;display:inline-flex;gap:8px;}
  .reflection-btn.active{border-color:var(--accent);background:rgba(194,94,50,.07);}
  .slicer{display:flex;align-items:center;gap:16px;flex-wrap:wrap;margin-top:14px;background:rgba(255,255,255,.9);padding:16px;border-radius:18px;box-shadow:0 30px 120px -20px rgba(31,36,44,.12);}
  .slicer-icon{width:54px;height:54px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:rgba(255,255,255,.95);box-shadow:0 14px 70px -10px rgba(31,36,44,.1);font-size:24px;flex:none;transition:transform .2s;}
  .slider{flex:1;appearance:none;height:12px;border-radius:6px;background:rgba(31,36,44,.08);outline:none;position:relative;}
  .slider::-webkit-slider-thumb{appearance:none;width:24px;height:24px;border-radius:50%;background:var(--accent);border:3px solid #fff;box-shadow:0 0 25px rgba(194,94,50,.5);cursor:pointer;transition:transform .2s;}
  .event-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;margin-top:12px;}
  .event{position:relative;background:rgba(255,253,248,.95);border-radius:16px;padding:18px;clip-path:polygon(3% 0,100% 4%,100% 96%,0 100%);box-shadow:0 38px 160px -15px rgba(31,36,44,.12);display:flex;flex-direction:column;gap:8px;transition:transform .35s,box-shadow .35s;}
  .event:hover{transform:translateY(-3px);box-shadow:0 50px 180px -5px rgba(31,36,44,.18);}
  .event .tag{font-size:.55em;background:rgba(194,94,50,.12);padding:4px 12px;border-radius:999px;display:inline-block;margin-bottom:6px;letter-spacing:0.5px;}
  .event-title{font-weight:700;font-size:1.1rem;margin:4px 0;}
  .event-meta{font-size:.65em;color:rgba(31,36,44,.65);}
  .email-block{background:rgba(255,255,255,.97);border-radius:20px;padding:20px;display:flex;flex-wrap:wrap;gap:18px;box-shadow:0 50px 160px -30px rgba(31,36,44,.12);}
  .email-left{flex:2;min-width:200px;}
  .email-right{flex:1;min-width:160px;display:flex;flex-direction:column;gap:12px;}
  .rodo{font-size:.55em;color:rgba(31,36,44,.6);margin-top:4px;font-style:italic;}
  .final{display:flex;gap:24px;flex-wrap:wrap;margin-top:4px;}
  .cta-box{flex:1;min-width:220px;background:rgba(255,253,248,.95);border-radius:20px;padding:18px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;}
  .hidden{display:none!important;}
  @media (max-width:960px){
    h1{font-size:2rem;}
    .breath-panel{flex-direction:column;}
    .reflection{flex-direction:column;}
    .final{flex-direction:column;}
    .slicer{flex-direction:column;align-items:flex-start;}
  }
</style>
</head>
<body>

  <!-- walking path nodes -->
  <div class="pager" aria-label="Progress path">
    <div class="node active" data-index="0">1</div>
    <div class="node" data-index="1">2</div>
    <div class="node" data-index="2">3</div>
    <div class="node" data-index="3">4</div>
    <div class="node" data-index="4">5</div>
    <div class="node" data-index="5">6</div>
  </div>

  <!-- invisible SVG casual path behind nodes -->
  <svg class="path-svg" aria-hidden="true">
    <path d="M10 40 C30 0,70 80,90 40 S170 40,190 40" stroke="rgba(31,36,44,.1)" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>

  <div class="frame">

    <!-- Full-screen breathing start (pinned minimal when others open) -->
    <section class="screen" id="screen-breath">
      <div class="breath-panel" style="width:100%;max-width:960px;">
        <div class="breath-visual">
          <div class="badge">1. Oddech</div>
          <div class="underline"><h2>Rytua≈Ç obecno≈õci</h2></div>
          <div class="circle" id="breathCircle" aria-label="Visual breath">
            <div class="circle-inner" id="circleInner">Zacznij</div>
          </div>
          <div class="progress" aria-label="Cycle progress">
            <!-- 5 dots -->
            <div class="dot" data-cycle="1"></div>
            <div class="dot" data-cycle="2"></div>
            <div class="dot" data-cycle="3"></div>
            <div class="dot" data-cycle="4"></div>
            <div class="dot" data-cycle="5"></div>
          </div>
          <div style="margin-top:6px;">
            <div class="verbal" id="verbalText">Gotowy</div>
            <div><small id="cycleLabel">0 / 5</small></div>
          </div>
        </div>
        <div class="breath-info">
          <p>We≈∫ 5 pe≈Çnych cykli wdech‚Äìwydech. Ustawiasz intencjƒô, uspokajasz umys≈Ç i wchodzisz w realny kontakt z chwilƒÖ. Wszystko w ≈õrodku ‚Äî mo≈ºesz dalej scrollowaƒá, gra nadal dzia≈Ça w tle, a wynik pojawi siƒô ni≈ºej.</p>
          <div style="display:flex;gap:16px;flex-wrap:wrap;align-items:center;">
            <button class="btn btn-primary" id="startBreathBtn">Start</button>
            <button class="btn btn-secondary" id="toggleSound">D≈∫wiƒôk: ON</button>
          </div>
          <div><small>Po zako≈Ñczeniu dostaniesz rekomendacjƒô sesji i dopasowanie g≈Çƒôbi/tempo.</small></div>
        </div>
      </div>
    </section>

    <!-- 2. About us / elevator pitch -->
    <section class="screen" id="screen-about">
      <div class="card">
        <div style="flex:1;min-width:260px;">
          <div class="badge">2. Kim jeste≈õmy</div>
          <div class="underline"><h1>InTouch Collective</h1></div>
          <p>Dw√≥ch przyjaci√≥≈Ç z psychologicznym zaciƒôciem buduje kameralne, offline‚Äôowe spotkania w Warszawie. Zamiast szybkich powierzchownych kontakt√≥w dajemy strukturƒô, w kt√≥rej relacje powstajƒÖ naturalnie.</p>
        </div>
        <div style="flex:1;min-width:260px;">
          <div class="badge">Co robimy</div>
          <div class="underline"><h1>Dlaczego to dzia≈Ça</h1></div>
          <p>≈ÅƒÖczymy autorskie gry, refleksjƒô i facylitacjƒô w bezpiecznej przestrzeni. Uczestnicy nie ‚ÄûpoznajƒÖ ludzi‚Äù ‚Äî przechodzƒÖ przez do≈õwiadczenie, kt√≥re prowadzi do autentycznego po≈ÇƒÖczenia.</p>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px;">
            <div class="badge-small">Autentyczno≈õƒá</div>
            <div class="badge-small">Uwa≈ºno≈õƒá</div>
            <div class="badge-small">Psychologia grupowa</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3. Reflection question -->
    <section class="screen" id="screen-reflect">
      <div class="card">
        <div style="flex:1;min-width:260px;">
          <div class="badge">3. Ma≈Ça refleksja</div>
          <div class="underline"><h2>Co Ciƒô zatrzymuje?</h2></div>
          <p>PatrzƒÖc na relacje z w≈Çasnej perspektywy: co podcina g≈Çƒôbiƒô? Wybierz jednƒÖ i zobacz sugestiƒô nastƒôpnego kroku.</p>
          <div class="reflection-options">
            <button class="reflection-btn" data-key="superficial">Wszystko wydaje siƒô p≈Çytkie</button>
            <button class="reflection-btn" data-key="distance">Czujƒô dystans</button>
            <button class="reflection-btn" data-key="fear">Bojƒô siƒô zaczƒÖƒá</button>
          </div>
          <div id="reflectionResult" style="margin-top:14px;font-weight:600;"></div>
          <small>To Twoja mapa ruchu. Nie zapisujemy tego.</small>
        </div>
        <div style="flex:none;min-width:120px;display:flex;align-items:center;justify-content:center;">
          <div class="slicer-icon" id="reflectIcon">ü§î</div>
        </div>
      </div>
    </section>

    <!-- 4. Why us -->
    <section class="screen" id="screen-why">
      <div class="card">
        <div style="flex:1;min-width:260px;">
          <div class="badge">4. Dlaczego my?</div>
          <div class="underline"><h2>Co nas wyr√≥≈ºnia</h2></div>
          <p>Nie robimy kolejnej ‚Äûintegracji‚Äù. Tworzymy do≈õwiadczenia: facylitacja, rytua≈Çy wej≈õcia, autorskie gry i dopasowanie tempa. Wszystko po to, ≈ºeby relacje mia≈Çy sens.</p>
          <ul style="padding-left:18px;margin:8px 0;">
            <li>Ma≈Çe, uwa≈ºne grupy</li>
            <li>Autorskie ƒáwiczenia dopasowane do energii</li>
            <li>Rytua≈Çy obecno≈õci i refleksji</li>
          </ul>
        </div>
        <div style="flex:1;min-width:260px;">
          <div class="underline"><h2>Dla kogo</h2></div>
          <p>Dla tych, kt√≥rzy sƒÖ zmƒôczeni szybkim online i chcƒÖ zbudowaƒá relacje z sensem ‚Äî bez presji, krok po kroku.</p>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:6px;">
            <div class="badge-small">Autentyczno≈õƒá</div>
            <div class="badge-small">Bezpiecze≈Ñstwo</div>
            <div class="badge-small">Wsp√≥lne do≈õwiadczenie</div>
          </div>
          <div style="margin-top:8px;"><strong>Efekt:</strong> Prze≈Çamanie izolacji, relacje, wiƒôksza samo≈õwiadomo≈õƒá.</div>
        </div>
      </div>
    </section>

    <!-- 5. Depth/Pace slicer + Events -->
    <section class="screen" id="screen-slicer-events">
      <div class="card">
        <div style="display:flex;flex-wrap:wrap;gap:28px;">
          <div style="flex:1;min-width:260px;">
            <div class="badge">5. G≈Çƒôboko≈õƒá ‚Üî Tempo</div>
            <div class="underline"><h2>Wybierz sw√≥j rytm</h2></div>
            <p>Suwak wp≈Çywa na klimat i sugestie. G≈Çƒôbia (üå≥) oznacza wolniejsze, intymniejsze wej≈õcie. Tempo (‚ö°) to szybkie, energiczne integracje. Zobacz, co pasuje.</p>
            <div class="slicer">
              <div class="slicer-icon" aria-label="Depth">üå≥</div>
              <div style="flex:1;min-width:160px;">
                <input type="range" id="depthSlider" class="slider" min="0" max="100" value="50" aria-label="Depth vs pace" />
                <div id="depthLabel" style="margin-top:6px;font-weight:600;">Zr√≥wnowa≈ºone</div>
              </div>
              <div class="slicer-icon" aria-label="Pace">‚ö°</div>
            </div>
          </div>
          <div style="flex:1;min-width:320px;">
            <div class="badge">Sesje</div>
            <div class="underline"><h2>NadchodzƒÖce wydarzenia</h2></div>
            <p>Po oddechu, refleksji i ustawieniu rytmu ‚Äî wybierz sesjƒô dopasowanƒÖ do Ciebie. Sugerujemy na podstawie Twojego wyboru.</p>
            <div class="event-grid" id="events">
              <div class="event" data-reco="deep">
                <div class="tag">5 sierpnia</div>
                <div class="event-title">Prawdziwe rozmowy</div>
                <div class="event-meta">Warszawa ¬∑ limit 12</div>
                <p>Ma≈Çe grupy, uwa≈ºne ƒáwiczenia, naturalne po≈ÇƒÖczenia.</p>
                <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
                  <button class="btn btn-primary open-signup" data-event="Prawdziwe rozmowy">Zapisz siƒô</button>
                  <div style="font-size:.7em;">Rekomendacja: g≈Çƒôbia</div>
                </div>
              </div>
              <div class="event" data-reco="balanced">
                <div class="tag">12 sierpnia</div>
                <div class="event-title">G≈Çƒôbia i tempo</div>
                <div class="event-meta">Warszawa ¬∑ limit 18</div>
                <p>Balans miƒôdzy szybkim startem a relacjƒÖ z sensem.</p>
                <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
                  <button class="btn btn-primary open-signup" data-event="G≈Çƒôbia i tempo">Zapisz siƒô</button>
                  <div style="font-size:.7em;">Hybrydowo</div>
                </div>
              </div>
              <div class="event" data-reco="tempo">
                <div class="tag">19 sierpnia</div>
                <div class="event-title">Mikro-spotkania</div>
                <div class="event-meta">Warszawa ¬∑ limit 20</div>
                <p>Szybki start i kontynuacja ‚Äî poznaj kilku nowych ludzi.</p>
                <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
                  <button class="btn btn-primary open-signup" data-event="Mikro-spotkania">Zapisz siƒô</button>
                  <div style="font-size:.7em;">Tempo + jako≈õƒá</div>
                </div>
              </div>
              <div class="event" data-reco="deep">
                <div class="tag">2 wrze≈õnia</div>
                <div class="event-title">Retreat: Autentyczna obecno≈õƒá</div>
                <div class="event-meta">Warszawa ¬∑ limit 10</div>
                <p>Ca≈Çy dzie≈Ñ offline: refleksja, relacje, obecno≈õƒá.</p>
                <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
                  <button class="btn btn-primary open-signup" data-event="Retreat">Zapisz siƒô</button>
                  <div style="font-size:.7em;">Tempo przemy≈õlane</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- email / notify -->
        <div style="margin-top:28px;display:flex;gap:32px;flex-wrap:wrap;">
          <div style="flex:1;min-width:260px;">
            <div class="email-block">
              <div class="email-left">
                <div class="badge">Nie przegap</div>
                <div class="underline"><h2>Powiadom mnie</h2></div>
                <p>Zostaw email. Dostaniesz przypomnienie, ma≈Çe refleksje i dostƒôp do szybkiego zapisu. RODO: tylko informujemy.</p>
              </div>
              <div class="email-right">
                <input type="email" id="notifyEmail" class="input" placeholder="Tw√≥j email" aria-label="Email powiadomie≈Ñ" />
                <button class="btn btn-primary" id="notifyBtn">Powiadom mnie</button>
                <div class="rodo">RODO: bez sprzeda≈ºy danych. Mo≈ºesz zrezygnowaƒá.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 6. Email + Event signup -->
    <section class="screen" id="screen-signup">
      <div class="card">
        <div style="display:flex;gap:32px;flex-wrap:wrap;">
          <div style="flex:1;min-width:260px;">
            <div class="underline"><h2>Zostaw email</h2></div>
            <p>Chcesz byƒá informowany? Daj znaƒá ‚Äî dostaniesz przypomnienia, priorytetowy dostƒôp i kr√≥tkie follow-upy.</p>
            <div style="display:flex;gap:14px;flex-wrap:wrap;align-items:center;">
              <input type="email" id="captureEmail" class="input" placeholder="Tw√≥j email" aria-label="Email" />
              <button class="btn btn-primary" id="captureBtn">Zapisz siƒô</button>
            </div>
            <div class="rodo">RODO: tylko powiadomienia, bez sprzeda≈ºy danych.</div>
          </div>
          <div style="flex:1;min-width:260px;" id="eventSignup">
            <div class="badge" id="selectedEventTag">Zapisz siƒô</div>
            <div class="underline"><h2 id="selectedEventTitle">Wybierz wydarzenie</h2></div>
            <p id="selectedEventDesc">Podaj email i telefon, potwierd≈∫ zgodƒô RODO ‚Äî potwierdzimy miejsce i przypomnimy.</p>
            <div style="display:flex;gap:14px;flex-wrap:wrap;align-items:center;">
              <input type="email" id="eventEmail" class="input" placeholder="Email" aria-label="Email wydarzenia" />
              <input type="tel" id="eventPhone" class="input" placeholder="Telefon" aria-label="Telefon" style="max-width:160px;" />
            </div>
            <div style="margin-top:10px;">
              <label style="display:flex;gap:8px;align-items:center;"><input type="checkbox" id="consentEvent" /> Akceptujƒô przetwarzanie danych zgodnie z RODO.</label>
            </div>
            <div style="margin-top:14px;">
              <button class="btn btn-primary" id="submitEvent">Do≈ÇƒÖcz</button>
            </div>
            <div id="signupFeedback" style="margin-top:8px;font-weight:600;"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Final summary -->
    <section class="screen" id="screen-final">
      <div class="card">
        <div class="final">
          <div class="cta-box">
            <div class="underline"><h2>Zosta≈Ñ w kontakcie</h2></div>
            <p>Otrzymuj przypomnienia, refleksje i zaproszenia. Dostosujemy rytm do Ciebie.</p>
            <div style="display:flex;gap:14px;flex-wrap:wrap;align-items:center;">
              <input type="email" id="finalEmail" class="input" placeholder="Tw√≥j email" aria-label="Email ko≈Ñcowy" />
              <button class="btn btn-primary" id="finalSign">Zapisz</button>
            </div>
            <div class="rodo">RODO: tylko to, na co siƒô zgadzasz.</div>
          </div>
          <div class="cta-box">
            <div class="badge">W skr√≥cie</div>
            <div class="underline"><h2>Dlaczego warto</h2></div>
            <ul style="padding-left:18px;margin:6px 0;">
              <li>Kameralne sesje w Warszawie</li>
              <li>Facylitacja oparta na psychologii</li>
              <li>Rytua≈Çy obecno≈õci + refleksja</li>
              <li>Autentyczne relacje</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

  </div>

  <script>
    // Swipe/navigation between screens
    const screens = ['screen-breath','screen-about','screen-reflect','screen-why','screen-slicer-events','screen-signup','screen-final'];
    let current = 0;
    function show(idx){
      current=idx;
      screens.forEach((id,i)=>{
        document.getElementById(id).style.display = i===idx ? 'flex' : 'none';
      });
      document.querySelectorAll('.node').forEach(n=>{
        n.classList.toggle('active', Number(n.dataset.index)===idx);
      });
    }
    // init
    show(0);

    document.querySelectorAll('.node').forEach(n=>{
      n.addEventListener('click', ()=> show(Number(n.dataset.index)) );
    });

    // enable swipe on mobile
    let startX=0, delta=0;
    document.addEventListener('touchstart', e=>{ startX=e.touches[0].clientX; });
    document.addEventListener('touchend', e=>{
      const endX = e.changedTouches[0].clientX;
      delta = endX - startX;
      if(delta > 60 && current > 0) show(current-1);
      if(delta < -60 && current < screens.length-1) show(current+1);
    });

    // Breathing logic
    const startBtn = document.getElementById('startBreathBtn');
    const verbalText = document.getElementById('verbalText');
    const circleInner = document.getElementById('circleInner');
    const progressDots = Array.from(document.querySelectorAll('.dot'));
    const cycleLabel = document.getElementById('cycleLabel');
    let cycle=0;
    let inhale=true;
    let soundOn=true;
    const audioCtx = new (window.AudioContext||window.webkitAudioContext)();
    function tone(freq,dur){
      if(!soundOn) return;
      const o=audioCtx.createOscillator();
      const g=audioCtx.createGain();
      o.type='sine'; o.frequency.value=freq;
      o.connect(g); g.connect(audioCtx.destination);
      g.gain.setValueAtTime(0, audioCtx.currentTime);
      g.gain.linearRampToValueAtTime(0.1,audioCtx.currentTime+0.03);
      o.start();
      g.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+dur);
      setTimeout(()=>o.stop(), dur*1000 + 50);
    }
    let breathingInterval=null;
    startBtn.addEventListener('click', ()=>{
      if(breathingInterval) return;
      cycle=0; inhale=true;
      updateVisual();
      breathingInterval = setInterval(()=>{
        if(inhale){
          verbalText.textContent='Wdech';
          circleInner.style.transform='scale(1.2)';
          circleInner.textContent='Wdech';
          tone(220,1.2);
        } else {
          verbalText.textContent='Wydech';
          circleInner.style.transform='scale(.9)';
          circleInner.textContent='Wydech';
          tone(164,1.2);
        }
        inhale=!inhale;
        if(!inhale) { // completed one full cycle (in+out)
          cycle++;
          updateProgress();
        }
        if(cycle >=5){
          clearInterval(breathingInterval);
          breathingInterval=null;
          verbalText.textContent='Gotowe';
          circleInner.textContent='‚úì';
          cycleLabel.textContent = '5 / 5';
          progressDots.forEach(d=>d.classList.add('active'));
          // advance to about after short delay
          setTimeout(()=> show(1), 900);
        }
      }, 1600);
    });
    function updateProgress(){
      cycleLabel.textContent = `${cycle} / 5`;
      progressDots.forEach(d=>{
        const idx = Number(d.dataset.cycle);
        d.classList.toggle('active', idx <= cycle);
      });
    }
    function updateVisual(){ /* placeholder if needed */ }

    // toggle sound
    document.getElementById('toggleSound').addEventListener('click', ()=>{
      soundOn = !soundOn;
      document.getElementById('toggleSound').textContent = `D≈∫wiƒôk: ${soundOn? 'ON':'OFF'}`;
    });

    // Reflection
    document.querySelectorAll('.reflection-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.reflection-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const key=btn.dataset.key;
        const output=document.getElementById('reflectionResult');
        if(key==='superficial'){
          output.textContent='Czujesz, ≈ºe relacje zostajƒÖ na powierzchni ‚Äî spr√≥buj jednej szczerej rozmowy zamiast wielu przypadkowych.';
          document.getElementById('reflectIcon').textContent='ü§è';
        } else if(key==='distance'){
          output.textContent='Dystans? Zapro≈õ jednƒÖ osobƒô na kr√≥tki kontakt bez oczekiwa≈Ñ.';
          document.getElementById('reflectIcon').textContent='‚ÜîÔ∏è';
        } else if(key==='fear'){
          output.textContent='Strach? Zacznij od obecno≈õci: bƒÖd≈∫ obok, potem zapytaj ‚ÄûCo u Ciebie?‚Äù.';
          document.getElementById('reflectIcon').textContent='üõ°Ô∏è';
        }
      });
    });

    // Depth slider affecting event highlight
    const depthSlider = document.getElementById('depthSlider');
    const depthLabel = document.getElementById('depthLabel');
    depthSlider.addEventListener('input', ()=>{
      const v = Number(depthSlider.value)/100;
      if(v < 0.35) depthLabel.textContent='Tempo';
      else if(v > 0.65) depthLabel.textContent='G≈Çƒôbia';
      else depthLabel.textContent='Zr√≥wnowa≈ºone';
      // highlight events
      document.querySelectorAll('.event').forEach(ev=>{
        const reco = ev.dataset.reco;
        ev.style.opacity = '1';
        if(v < 0.35){ // pace favored: dim deep ones
          if(reco==='deep') ev.style.opacity='0.5';
        } else if(v > 0.65){
          if(reco==='tempo') ev.style.opacity='0.5';
        }
      });
    });

    // Email / event signup
    document.getElementById('notifyBtn').addEventListener('click', ()=>{
      const e=document.getElementById('notifyEmail').value.trim();
      if(!e.includes('@')){ alert('Poprawny email'); return;}
      document.getElementById('notifyBtn').textContent='‚úÖ Dziƒôkujemy';
    });
    document.getElementById('captureBtn').addEventListener('click', ()=>{
      const e=document.getElementById('captureEmail').value.trim();
      if(!e.includes('@')){ alert('Poprawny email'); return;}
      document.getElementById('captureBtn').textContent='OK ‚úì';
    });
    let selectedEvent='';
    document.querySelectorAll('.open-signup').forEach(b=>{
      b.addEventListener('click', ()=>{
        selectedEvent = b.dataset.event;
        document.getElementById('selectedEventTitle').textContent=selectedEvent;
        document.getElementById('selectedEventTag').textContent='Zapisz siƒô: ' + selectedEvent;
        document.getElementById('selectedEventDesc').textContent='Podaj email i telefon, potwierd≈∫ RODO ‚Äì potwierdzimy miejsce.';
        show(5); // go to signup
      });
    });
    document.getElementById('submitEvent').addEventListener('click', ()=>{
      const email=document.getElementById('eventEmail').value.trim();
      const phone=document.getElementById('eventPhone').value.trim();
      const consent=document.getElementById('consentEvent').checked;
      const feedback=document.getElementById('signupFeedback');
      if(!email.includes('@')||!phone){ feedback.textContent='Uzupe≈Çnij email i telefon.'; return; }
      if(!consent){ feedback.textContent='Zaznacz zgodƒô RODO.'; return; }
      feedback.textContent=`Zapisane na "${selectedEvent}". Sprawdzimy szczeg√≥≈Çy w wiadomo≈õci.`; 
      document.getElementById('submitEvent').textContent='‚úî Gotowe';
    });

    // final signup
    document.getElementById('finalSign').addEventListener('click', ()=>{
      const e=document.getElementById('finalEmail').value.trim();
      if(!e.includes('@')){ alert('Email'); return; }
      document.getElementById('finalSign').textContent='Zapisane ‚úì';
    });

    // quick nav from hero
    document.getElementById('startJourney').addEventListener('click', ()=>{
      show(0);
    });
    document.getElementById('seeEvents').addEventListener('click', ()=>{
      show(4);
    });

    // expose show globally for debugging
    window.showSection = show;
  </script>
</body>
</html>
